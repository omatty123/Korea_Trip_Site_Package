<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Korea Trip</title>
  <link rel="stylesheet" href="styles.css" />
  <style>
    nav { background: #fff; border-bottom: 1px solid #ccc; }
    .tabs { display: flex; list-style: none; margin: 0; padding: 0; }
    .tabs li { padding: 1rem 1.5rem; cursor: pointer; font-weight: 500; }
    .tabs li.active { border-bottom: 2px solid #000; font-weight: 700; }
    main section { display: none; padding: 1.5rem; }
    main section.active { display: block; }
    .entry { margin-bottom: 1rem; }
    .entry h3, .entry h4 { margin: 0.2rem 0; }
    .map-links a { margin-right: 0.5rem; text-decoration: none; }
  </style>
</head>
<body>
  <nav>
    <ul class="tabs">
      <li data-tab="timeline" class="active">TIMELINE</li>
      <li data-tab="restaurants">식당</li>
      <li data-tab="notes">NOTES</li>
    </ul>
  </nav>
  <main>
    <section id="timeline" class="active"></section>
    <section id="restaurants"></section>
    <section id="notes"></section>
  </main>
  <script>
    const tabs = document.querySelectorAll('.tabs li');
    tabs.forEach(tab => {
      tab.addEventListener('click', () => {
        tabs.forEach(t => t.classList.remove('active'));
        document.querySelectorAll('main section').forEach(sec => sec.classList.remove('active'));
        tab.classList.add('active');
        document.getElementById(tab.dataset.tab).classList.add('active');
      });
    });

    async function loadData() {
      const res = await fetch('trip.json');
      const data = await res.json();

      // TIMELINE
      const tl = document.getElementById('timeline');
      data.forEach(item => {
        const div = document.createElement('div'); div.className = 'entry';
        const date = document.createElement('h3'); date.textContent = item.date; div.appendChild(date);
        const city = document.createElement('p'); city.textContent = item.city; div.appendChild(city);
        const maps = document.createElement('p'); maps.className = 'map-links';
        const nLink = document.createElement('a');
        nLink.href = `https://map.naver.com/v5/search/${encodeURIComponent(item.city)}`;
        nLink.textContent = 'Naver Map'; nLink.target = '_blank'; maps.appendChild(nLink);
        const kLink = document.createElement('a');
        kLink.href = `https://map.kakao.com/search/${encodeURIComponent(item.city)}`;
        kLink.textContent = 'Kakao Map'; kLink.target = '_blank'; maps.appendChild(kLink);
        div.appendChild(maps);
        tl.appendChild(div);
      });

      // 식당
      const rest = document.getElementById('restaurants');
      data.filter(i => i.type === 'restaurant').forEach(item => {
        const div = document.createElement('div'); div.className = 'entry';
        const name = document.createElement('h4'); name.textContent = item.name; div.appendChild(name);
        const maps = document.createElement('p'); maps.className = 'map-links';
        const n = document.createElement('a');
        n.href = `https://map.naver.com/v5/search/${encodeURIComponent(item.name)}`;
        n.textContent = 'Naver'; n.target = '_blank'; maps.appendChild(n);
        const k = document.createElement('a');
        k.href = `https://map.kakao.com/search/${encodeURIComponent(item.name)}`;
        k.textContent = 'Kakao'; k.target = '_blank'; maps.appendChild(k);
        div.appendChild(maps);
        rest.appendChild(div);
      });

      // NOTES
      const notes = document.getElementById('notes');
      data.filter(i => i.notes).forEach(item => {
        const div = document.createElement('div'); div.className = 'entry';
        const p = document.createElement('p'); p.textContent = `${item.date} - ${item.notes}`; div.appendChild(p);
        notes.appendChild(div);
      });
    }
    document.addEventListener('DOMContentLoaded', loadData);
  </script>
</body>
</html>
